{% extends "base.html" %}
{% block content %}
<h3>Mark Attendance</h3>
<form method="post" class="card p-3">
  {% csrf_token %}
  <div class="row g-3">
    <div class="col-md-4">
      <label class="form-label">Subject</label>
      <select name="subject_id" class="form-select" required>
        <option value="">Select subject</option>
        {% for s in subjects %}
          <option value="{{ s.id }}">{{ s.code }} â€” {{ s.name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-4">
      <label class="form-label">Date</label>
      <input type="date" name="date" class="form-control" value="{{ today|date:'Y-m-d' }}">
    </div>
  </div>
  <hr>
  <table class="table">
    <thead><tr><th>Student</th><th>Present?</th></tr></thead>
    <tbody>
      {% for st in students %}
        <tr>
          <td>{{ st.username }}</td>
          <td><input type="checkbox" name="present" value="{{ st.id }}"></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <button class="btn btn-primary">Save Attendance</button>
</form>
{% endblock %}
